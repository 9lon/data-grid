<dom-module id="nx-grid-list-item">
    <style is="custom-style">
        .primary{
            @apply(--layout-horizontal);
            background-color:#ccc;
        }
        .secondary{
            @apply(--layout-horizontal);
            background-color:#F57F17;
        }
    </style>

    <template>
        <template is="dom-if" if="{{_checkType(type,'primary')}}">
            <div class="primary" on-tap="getData" on-dblclick="dblclick">
                <template is="dom-repeat" items="{{config}}">
                    <div>{{getItem(item,data)}} width:{{item.width}} /// <div>
                </template> 
            </div>
        </template> 
        <template is="dom-if" if="{{_checkType(type,'secondary')}}">
            <div class="secondary" on-tap="getData" on-dblclick="dblclick">
                <template is="dom-repeat" items="{{config}}">
                    <div>{{getItem(item,data)}} width:{{item.width}} /// <div>
                </template> 
            </div>
        </template>
        <div id="secondary"></div>
    </template>

    <script>
        Polymer({
            is:'nx-grid-list-item',
            properties:{
                seleted:{
                    type:Object,
                    notify:true
                }
            },
            ready:function(){
                if(this.type == 'secondary' && (this.item.sub.length==this.index+1)){
                    var el = document.createElement(this.secondary);
                    this.$.secondary.appendChild(el);
                }
            },
            _checkType:function(type,select){
                return type==select;
            },
            getItem:function(item,data){
                return data[item.item];
            },
            getData:function(e){
                this.seleted = this.data;
                this.fire('item-tap', {kicked: true});
            },
            dblclick:function(){
                this.fire('item-dbclick', {kicked: true});
            }
        });
    </script>
</dom-module>
